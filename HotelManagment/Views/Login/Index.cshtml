@{
    Layout = "~/Views/Shared/LoginLayout.cshtml";
    ViewBag.Title = "Login";
}

<div class="wrapper fadeInDown signin">
    <div class="row cstm-cont">
        <div class="pull-left">
            @*<img class="logo" src="~/images/logo.png" />*@
        </div>
        <div class="pull-right lang_select">
            <partial name="_SelectLanguagePartial" />
            @*<select asp-for="loginVM.LanguageId" class="form-control select2">
                    <option value="">-- Select Fish Type --</option>
                    <option value="0">ENG</option>
                    <option value="1">NORKS</option>
                </select>*@
        </div>
    </div>
    <form class="main_form">
        <div id="formContent" class="login_form">
            <div>
                <img src="~/Images/SVG/logo.svg" class="logo" alt="logo">
            </div>
            <h2 class="active heading">SignIn</h2>
            <div class="login">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group">
                    <input class="form-control" type="text" id="email" placeholder="Email" />
                </div>
                <div class="form-group">
                    <input for="password" class="form-control" type="password" id="password" placeholder="Password" />
                </div>
                <div class="form-group">
                    <input type="button" id="login_btn" value="Login" asp-page-handler="Login" class="btn btn-default" />
                </div>
            </div>

            <div class="forgot" style="display: none;">
                <div class="form-group">
                    <input type="text" id="forgot_email" value="" class="form-control" placeholder="Enter email...." />
                </div>
                <div class="form-group forgot-btn-block">
                    <input type="button" value="cancel" class="btn btn-cacel" />
                    <input type="submit" asp-page-handler="Login" value="Login" class="btn btn-default" />
                </div>
            </div>
            <div id="formFooter">
                <a class="underlineHover" id="forgot" href="#">Forgot Password</a>
                <a class="underlineHover" id="createaccount" href="#">Create Account</a>
            </div>
        </div>
    </form>
</div>




<div class="wrapper fadeInDown signup" style="display: none;">
    <div class="row cstm-cont">
        <div class="pull-left">
            @*<img class="logo" src="~/images/logo.png" />*@
        </div>
        <div class="pull-right lang_select">
            <partial name="_SelectLanguagePartial" />
            @*<select asp-for="loginVM.LanguageId" class="form-control select2">
                    <option value="">-- Select Fish Type --</option>
                    <option value="0">ENG</option>
                    <option value="1">NORKS</option>
                </select>*@
        </div>
    </div>
    <form method="post" class="main_form">
        <div id="formContent" class="login_form">
            <div>
                <img src="images/SVG/logo.svg" class="logo" alt="logo">
            </div>
            <h2 class="active heading">SignUp</h2>
            <div class="login">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group">
                    <input class="form-control" type="text" placeholder="Full Name" />
                </div>
                <div class="form-group">
                    <input class="form-control" type="text" placeholder="Email" />
                </div>
                <div class="form-group">
                    <input for="password" class="form-control" type="password" placeholder="Password" />
                </div>
                <div class="form-group">
                    <input for="password" class="form-control" type="password" placeholder="Confirm Password" />
                </div>
                <div class="form-group">
                    <input type="submit" asp-page-handler="Login" value="Login" class="btn btn-default" />
                </div>
            </div>

            <div class="forgot" style="display: none;">
                <div class="form-group">
                    <input type="text" value="" class="form-control" placeholder="Enter email...." />
                </div>
                <div class="form-group">
                    <input type="submit" asp-page-handler="Login" class="btn btn-default" />
                </div>
            </div>
            <div id="formFooter">
                <a class="underlineHover" id="signin" href="#">SignIn</a>
            </div>
        </div>
    </form>
</div>




<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">
    // var emailReg = /^([\w-\.]+@@([\w-]+\.)+[\w-]{2,4})?$/;
    var emailReg = /^([\w-\.]+@@([\w-]+\.)+[\w-]{2,4})?$/gi;
    var admin = '@Url.Action("Index","Admin")';
    var user = '@Url.Action("Index","Admin")';

    $("#login_btn").click(function () {
        var email = $("#email").val();
        var pass = $("#password").val();
        if (email == "") {
            alert("please enter email");
            return false;
        }
        else if (!emailReg.test(email)) {
            alert('Invalid Email');
            return false
        }
        else if (pass == "") {
            alert("please enter password.");
            return false;
        }
        var data = { 'email': email, 'password': pass }
        $.ajax({
            type: "Post",
            url: "/Login/Login",
            type: "Post",
            cache: false,
            data: data,
            success: function (result) {
                if (result.success) {
                    window.location.href = result.Message == "Admin" ? admin : user;
                }
                else
                    alert(result.Message);
            },
            error: function (result) {

            }
        });
    });
    $("#createaccount").click(function () {
        $('.signup').show();
        $('.signin').hide();
    });
    $("#signin").click(function () {
        $('.signup').hide();
        $('.signin').show();
    });

</script>